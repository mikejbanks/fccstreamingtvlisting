<html>
<head>
<link rel="stylesheet" type="text/css" href="style.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script>
/*List of Twitch Streamers to check account/streaming status.*/ 
var twitchStreamers = ["dreamhackcs", "skyzhar", "faceittv", "comster404", "brunofin", "terakilobyte", "robotcaleb", "sheevergaming", "esl_sc2", "ogamingsc2", "jacksofamerica", "fdlsjfdsl39"];

$( document ).ready(function() {
   sendAllStreamersList()
});

/*Shows status of a channel (out of set of all online channels) through Twitch API*/
function listOneChannelOnline(streamer) {
$('#centerdisplay').empty();
	$.getJSON('https://api.twitch.tv/kraken/streams/' + streamer + '?client_id=3ayqtffruo2goxf0cvyp75wjm28g4pq&callback=?', function(data) {
    if (data["error"] != null) {
      
    }
	else if(data["stream"]==null){
		
	}
	else{
	var OnlineImage;
	if(data.stream.channel.logo==null){
	OnlineImage="questionmark.png";
	}
	else{
	OnlineImage=data.stream.channel.logo;
	}
	$('#centerdisplay').append('<a href="'+data.stream.channel.url+'">'+'<p>'+'<img src="'+OnlineImage+'">'+streamer+' online'+'<br/>'+'</p>'+'</a>');
	}
    console.log(data);
});
	};
/*Shows status of a channel (out of set of all channels) through Twitch API*/
function listOneChannelAll(streamer) {
	$('#centerdisplay').empty();
	$.getJSON('https://api.twitch.tv/kraken/streams/' + streamer + '?client_id=3ayqtffruo2goxf0cvyp75wjm28g4pq&callback=?', function(data) {
    if (data["error"] != null) {
		$('#centerdisplay').append('<p>'+'<a href="http://www.twitch.tv">'+'<img src="questionmark.png">'+streamer+' unknown'+'<br/>'+'</p>'+'</a>');
    }
	else if(data["stream"]==null){
		$.getJSON('https://api.twitch.tv/kraken/channels/' + streamer + '?client_id=3ayqtffruo2goxf0cvyp75wjm28g4pq&callback=?', function(channeldata) {
		var notOnlineImage;
		if(channeldata.logo==null){
		notOnlineImage="questionmark.png";
		}
		else{
		notOnlineImage=channeldata.logo;
		}
		$('#centerdisplay').append('<a href="'+channeldata.url+'">'+'<p>'+'<img src="'+notOnlineImage+'">'+streamer+' not online'+'<br/>'+'</p>'+'</a>');
		console.log(channeldata);
		});
	}
	else{
	var OnlineImage;
	if(data.stream.channel.logo==null){
	OnlineImage="questionmark.png";
	}
	else{
	OnlineImage=data.stream.channel.logo;
	}
	$('#centerdisplay').append('<a href="'+data.stream.channel.url+'">'+'<p>'+'<img src="'+OnlineImage+'">'+streamer+' online'+'<br/>'+'</p>'+'</a>');
	}
    console.log(data);
});
	};

/*Shows status of a channel (out of set of all offline channels) through Twitch API*/
function listOneChannelOffline(streamer) {
	$('#centerdisplay').empty();
	$.getJSON('https://api.twitch.tv/kraken/streams/' + streamer + '?client_id=3ayqtffruo2goxf0cvyp75wjm28g4pq&callback=?', function(data) {
    if (data["error"] != null) {
            }
	else if(data["stream"]==null){
		$.getJSON('https://api.twitch.tv/kraken/channels/' + streamer + '?client_id=3ayqtffruo2goxf0cvyp75wjm28g4pq&callback=?', function(channeldata) {
		var notOnlineImage;
		if(channeldata.logo==null){
		notOnlineImage="questionmark.png";
		}
		else{
		notOnlineImage=channeldata.logo;
		}
		$('#centerdisplay').append('<a href="'+channeldata.url+'">'+'<p>'+'<img src="'+notOnlineImage+'">'+streamer+' not online'+'<br/>'+'</p>'+'</a>');
		console.log(channeldata);
		});
	}
	else{
	}
});
	};

/*Shows all channels*/
function sendAllStreamersList(){
for (var i = 0; i < twitchStreamers.length; i++) {
		listOneChannelAll(twitchStreamers[i]);
}
} 

/*Shows online channels*/
function sendOnlineStreamersList(){
for (var i = 0; i < twitchStreamers.length; i++) {
		listOneChannelOnline(twitchStreamers[i]);
}
} 

/*Shows offline channels*/
function sendOfflineStreamersList(){
for (var i = 0; i < twitchStreamers.length; i++) {
		listOneChannelOffline(twitchStreamers[i]);
}
} 


	
</script>
</head>
<body>
<button class="myButton" style="margin-left:25%;" onclick=sendAllStreamersList();>All</button>
<button class="myButton" onclick=sendOnlineStreamersList();>Online</button>
<button class="myButton" onclick=sendOfflineStreamersList();>Offline</button>
<p id="results"></p>
<div id="centerdisplay"></div>
</body>
</html>
